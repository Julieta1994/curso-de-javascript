///// INDEX.HTML //////

<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div class="modal-bk">
		<div class="modal">
			<h3 class="resultado"></h3>
			<p class="mensaje"></p>
		</div>
	</div>
	<form action="" class="formulario-notas">
		<h2 class="titulo">Introduci la nota del alumno</h2>
		<input type="number" id="nota">
		<input type="button" id="enviar-nota" value="otorgar nota">
	</form>
	
<script type="text/javascript" src="main.js"></script>
</body>
</html>


---------------------------------
STYLE.CSS ///////////

body {
	color: #333;
	font-family: sans-serif;
}

.formulario-notas {
	display: flex;
	background: #36e;
	width: 50%;
	margin: 50px 20%;
	padding: 20px;
	text-align: center;
	box-sizing: border-box;
}

.titulo {
	margin 0;
	flex-grow: 1;
	color: #fff;

}

input {
	width: 20%;
	margin: 10px;
	border: none;

}

input[type="button"] {
	margin: auto;
	background-color: #fff;
	border: none;
	color: #36e;
	padding: 15px;
}

.green {
	color: #0f0;
}

.red {
	color:  #f00;
}

.modal-bk{
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	background: rgba(0,0,0,0.7);
	position: absolute;
	top: 0;
	left: 0;
	display: none;
	opacity: 0;

}

.modal{
	background: #fff;
	width: 500px;
	margin: auto;
	text-align: center;
}

.resultado {
	font-size: 23px;
	max-resolution: 5px;
}

@keyframes aparecer {
	0% {
		opacity: 0;
		display: flex;
	}
	100%{
		opacity: 1;
		display: flex;
	}
}

-------------------------------------------
MAIN.JS /////////////////////////


//Las mesas de examen terminaron y el profesor tomo el ultimo examen, Ya cofla hizo dos examenes mas 
// se rompio el sistema de registro de notas 	y hay que crear una solucion
//hacer: 1-crear mini interfaz para introducit la nota 2-validar que no haya errores 
//3-promediar la nota del profesor con 2 anteriores 4- si el promedio es mayor a 7/10 aprobo la materia


const sendButton = document.getElementById("enviar-nota");

let resultado,mensaje;

sendButton.addEventListener("click",()=>{
	try{

		prevRes = parseInt(document.getElementById("nota").value);
		if(isNaN(prevRes)) {
			throw "error de gracioso";
		};
		resultadoMateria = confirmarAprobacion(8,10,prevRes);
		ultimoExamen = verificarAprobacion(prevRes);


	} catch (e) {

		resultadoMateria = 'sos gracioso';
		ultimoExamen = 'descubri que estas quieriendo hackear al sitio';
	}

	abrirModal(resultadoMateria,ultimoExamen);	


})

const verificarAprobacion = (prevRes) => {
	let resultado;
	switch (prevRes) {
		case 1: resultado = "desaprobaste con 1";
		break;
		case 2: resultado = "desaprobaste con 2";
		break;
		case 3: resultado = "desaprobaste con 3";
		break;
		case 4: resultado = "desaprobaste con 4";
		break;
		case 5: resultado = "desaprobaste con 5";
		break;
		case 6: resultado = "aprobaste con 6";
		break;
		case 7: resultado = "aprobaste con 7";
		break;
		case 8: resultado = "aprobaste con 8";
		break;
		case 9: resultado = "aprobaste con 9";
		break;
		case 10: resultado = "aprobaste con 10";
		break;
		default: resultado = null;
		console.log('hola desde el switch');
	};
		console.log(prevRes+'hola')

	return  resultado;
}

const confirmarAprobacion = (nota1, nota2, prevRes)=> {
	let promedio = (nota1 + nota2 + prevRes) / 3;
	if (promedio >= 7) {
		return "<span class='green'>LA MATERIA ESTA APROBADA </span>"; 
	} else {
	return "<span class='red'>LA MATERIA ESTA DESAPROBADA </span>";
	} 
};

const abrirModal = (res,msg)=> {
 document.querySelector(".resultado").innerHTML = res;
 document.querySelector(".mensaje").innerHTML = "En tu ultimo examen "+ msg;
 let modal = document.querySelector(".modal-bk");
 modal.style.display = "flex";
 modal.style.animation = "aparecer 1s forwards";


};


